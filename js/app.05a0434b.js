(function(t){function a(a){for(var e,o,r=a[0],c=a[1],u=a[2],f=0,p=[];f<r.length;f++)o=r[f],s[o]&&p.push(s[o][0]),s[o]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);l&&l(a);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,a=0;a<i.length;a++){for(var n=i[a],e=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(e=!1)}e&&(i.splice(a--,1),t=o(o.s=n[0]))}return t}var e={},s={app:0},i=[];function o(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,a,n){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)o.d(n,e,function(a){return t[a]}.bind(null,e));return n},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=a,r=r.slice();for(var u=0;u<r.length;u++)a(r[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,a,n){t.exports=n("56d7")},"06a2":function(t,a,n){},1054:function(t,a,n){},"56d7":function(t,a,n){"use strict";n.r(a);n("cadf"),n("551c"),n("f751"),n("097d");var e=n("2b0e"),s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("Header"),n("router-view")],1)},i=[],o=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header"},[e("div",{staticClass:"header-container clearfix"},[e("a",{staticClass:"brand",attrs:{href:"/"}},[e("img",{attrs:{src:n("d686"),alt:""}})]),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/Jiangwenzhe/vue-cnode"}},[t._v("关于")])]),e("li",[e("a",{attrs:{href:"https://cnodejs.org/api"}},[t._v("所用API")])])])])])}],c={name:"Header"},u=c,l=(n("9418"),n("2877")),f=Object(l["a"])(u,o,r,!1,null,"5e2de273",null),p=f.exports,d={components:{Header:p}},g=d,h=(n("5c0b"),Object(l["a"])(g,s,i,!1,null,null,null)),v=h.exports,_=n("8c4f"),m=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[t.isLoading?n("Loading"):n("div",{staticClass:"main clearfix"},[n("SideBar"),n("div",{staticClass:"article"},[n("div",{staticClass:"topic-header"},[n("div",{staticClass:"topic-title"},[t._v(t._s(t.post.title))]),n("ul",[n("li",[t._v("• 发布于 "+t._s(t._f("formatDate")(t.post.create_at)))]),n("li",[t._v("• 作者："+t._s(t.post.author.loginname))]),n("li",[t._v("• "+t._s(t.post.visit_count)+"次浏览")]),n("li",[t._v("• 来自 "+t._s(t._f("tabFormatter")(t.post)))])]),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.post.content)}})]),n("div",{staticClass:"reply"},[n("div",{staticClass:"top-bar"},[t._v(t._s(t.post.reply_count)+" 回复")]),t._l(t.post.replies,function(a,e){return n("div",{key:e,staticClass:"reply-section",attrs:{id:a.id}},[n("div",{staticClass:"reply-up"},[n("img",{attrs:{src:a.author.avatar_url}}),n("router-link",{attrs:{to:{name:"userInfo",params:{name:a.author.loginname}}}},[n("span",{staticClass:"user-name"},[t._v("  "+t._s(a.author.loginname))])]),t._v(" \n              "),n("a",{staticClass:"reply-index",attrs:{href:"#"+a.id}},[t._v(t._s(e+1)+"楼•"+t._s(t._f("formatDate")(t.post.create_at)))]),a.ups.length>0?n("span",{staticClass:"thumbs-up",on:{click:t.handleLikeBtn}},[n("span",{staticClass:"iconfont icon-like"}),t._v("\n                "+t._s(a.ups.length)+"\n              ")]):n("span")],1),n("div",{staticClass:"reply-content",domProps:{innerHTML:t._s(a.content)}})])})],2)])],1)],1)},b=[],C=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"loading"},[n("span",{staticClass:"iconfont icon-loading"})])}],P={name:"Loading"},k=P,L=(n("cb13"),Object(l["a"])(k,C,y,!1,null,null,null)),x=L.exports,j=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"sidebar"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"header"},[t._v("\n      作者\n    ")]),n("div",{staticClass:"content user-info"},[n("div",{staticClass:"img-name"},[n("img",{attrs:{src:t.userinfo.avatar_url}}),n("router-link",{attrs:{to:{name:"userInfo",params:{name:t.userinfo.loginname}}}},[n("span",[t._v(t._s(t.userinfo.loginname))])])],1),n("div",[n("span",{staticClass:"iconfont icon-jifen"}),t._v(t._s(t.userinfo.score)+"分")]),n("div",[n("span",{staticClass:"iconfont icon-githublogo"}),n("a",{attrs:{href:"https://github.com/"+t.userinfo.githubUsername}},[t._v("@"+t._s(t.userinfo.githubUsername))])]),n("div",[n("span",{staticClass:"iconfont icon-rili"}),t._v(t._s(t._f("formatDate")(t.userinfo.create_at)))])])]),n("div",{staticClass:"panel"},[n("div",{staticClass:"header"},[t._v("\n      最近讨论的话题\n    ")]),t._l(t.userinfo.recent_topics,function(a,e){return n("div",{key:e,staticClass:"content list-title"},[n("router-link",{attrs:{to:{name:"postContent",params:{id:a.id,name:a.author.loginname}}}},[n("div",[t._v(t._s(a.title))])])],1)})],2),n("div",{staticClass:"panel"},[n("div",{staticClass:"header"},[t._v("\n      最近回复的话题\n    ")]),t._l(t.userinfo.recent_replies,function(a,e){return n("div",{key:e,staticClass:"content list-title"},[n("router-link",{attrs:{to:{name:"postContent",params:{id:a.id,name:a.author.loginname}}}},[n("div",[t._v(t._s(a.title))])])],1)})],2)])},$=[],w=(n("7f7f"),{name:"SideBar",data:function(){return{userinfo:{},loginname:""}},methods:{getSideBarData:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/user/".concat(this.loginname)).then(function(a){t.userinfo=a.data.data,console.log("sidebar_data---",a)}).catch(function(t){return console.log(t)})},getLoginname:function(){this.$route.params.name&&(this.loginname=this.$route.params.name)}},mounted:function(){this.getLoginname(),this.getSideBarData()},watch:{$route:function(){this.getLoginname(),this.getSideBarData()}}}),D=w,O=(n("ddd2"),Object(l["a"])(D,j,$,!1,null,"39747b3a",null)),I=O.exports,T={name:"Article",components:{Loading:x,SideBar:I},data:function(){return{isLoading:!1,post:{}}},methods:{getArticleData:function(){var t=this;this.isLoading=!0,this.$axios.get("https://cnodejs.org/api/v1/topic/".concat(this.$route.params.id)).then(function(a){t.isLoading=!1,t.post=a.data.data,console.log(a)}).catch(function(t){console.log(t)})},handleLikeBtn:function(){alert("官方没有提供相关的点赞api哈～～～")}},mounted:function(){this.getArticleData()},watch:{$route:function(){this.getArticleData()}}},S=T,E=(n("720e"),Object(l["a"])(S,m,b,!1,null,null,null)),B=E.exports,U=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"postList"},[n("div",{staticClass:"posts"},[n("ul",[n("li",{staticClass:"toolbar"},[n("span",{class:{"current-tab":""===t.tab},on:{click:function(a){return t.changeTab("")}}},[t._v("全部")]),n("span",{class:{"current-tab":"good"===t.tab},on:{click:function(a){return t.changeTab("good")}}},[t._v("精华")]),n("span",{class:{"current-tab":"share"===t.tab},on:{click:function(a){return t.changeTab("share")}}},[t._v("分享")]),n("span",{class:{"current-tab":"ask"===t.tab},on:{click:function(a){return t.changeTab("ask")}}},[t._v("问答")]),n("span",{class:{"current-tab":"job"===t.tab},on:{click:function(a){return t.changeTab("job")}}},[t._v("招聘")])]),t.isLoading?n("Loading"):n("div",t._l(t.posts,function(a,e){return n("li",{key:e},[n("router-link",{attrs:{to:{name:"userInfo",params:{name:a.author.loginname}}}},[n("img",{staticClass:"avatar",attrs:{src:a.author.avatar_url,alt:a.author.login_name}})]),n("span",{staticClass:"all-count"},[n("span",{staticClass:"reply-count"},[t._v(t._s(a.reply_count))]),t._v("\n            / "+t._s(a.visit_count)+"\n          ")]),n("span",{class:[{put_good:1==a.good,put_top:1==a.top,"topiclist-tab":1!=a.good&&1!=a.top}]},[n("span",[t._v("\n              "+t._s(t._f("tabFormatter")(a))+"\n            ")])]),n("router-link",{attrs:{to:{name:"postContent",params:{id:a.id,name:a.author.loginname}}}},[n("span",[t._v(t._s(a.title))])]),n("span",{staticClass:"last-reply"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1)}),0),n("li",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},[n("Pagination",{attrs:{page:t.postPage},on:{handleChangePage:t.changePage}})],1)],1)])])},M=[],A=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"pagination"},[n("ul",[n("li",{on:{click:function(a){return t.prevOrNext(-1)}}},[t._v("«")]),t._l(t.pages,function(a,e){return n("li",{key:e,class:{actived:a===t.currentPage},on:{click:function(n){return t.changePage(a)}}},[t._v(t._s(a))])}),n("li",{on:{click:function(a){return t.prevOrNext(1)}}},[t._v("»")])],2)])},H=[],N=(n("c5f6"),{name:"Pagination",props:{page:{type:Number}},data:function(){return{currentPage:this.page}},computed:{pages:function(){var t=this.currentPage;return t<=5?[1,2,3,4,5,6,7,8,9,"..."]:[1,"...",t-3,t-2,t-1,t,t+1,t+2,t+3,"..."]}},methods:{changePage:function(t){t!==this.currentPage&&"number"===typeof t&&(this.currentPage=t)},prevOrNext:function(t){this.currentPage+t!==0&&(this.currentPage+=t)}},watch:{currentPage:function(){this.$emit("handleChangePage",this.currentPage)},page:function(){this.currentPage=this.page}}}),F=N,J=(n("a349"),Object(l["a"])(F,A,H,!1,null,"5fa913d2",null)),z=J.exports,q={name:"PostList",components:{Loading:x,Pagination:z},data:function(){return{isLoading:!1,tab:"",posts:[],postPage:1}},methods:{getPostData:function(){var t=this;this.isLoading=!0,this.$axios.get("https://cnodejs.org/api/v1/topics",{params:{tab:this.tab,page:this.postPage,limit:20}}).then(function(a){t.isLoading=!1,t.posts=a.data.data,console.log(a)}).catch(function(t){return console.log(t)})},changeTab:function(t){this.tab=t,this.postPage=1,this.getPostData()},changePage:function(t){console.log("in PostList---, currentpage is ",t),this.postPage=t,this.getPostData()}},mounted:function(){this.getPostData()}},G=q,K=(n("f965"),Object(l["a"])(G,U,M,!1,null,"42b0af63",null)),Q=K.exports,R=function(){var t=this,a=t.$createElement,n=t._self._c||a;return t.isLoading?n("Loading"):n("div",{staticClass:"user-info"},[n("div",{staticClass:"user-content"},[n("div",{staticClass:"img-name"},[n("img",{attrs:{src:t.userinfo.avatar_url}}),n("span",[t._v(t._s(t.userinfo.loginname))])]),n("div",[n("span",{staticClass:"iconfont icon-jifen"}),t._v(t._s(t.userinfo.score)+"分")]),n("div",[n("span",{staticClass:"iconfont icon-githublogo"}),n("a",{attrs:{href:"https://github.com/"+t.userinfo.githubUsername}},[t._v("@"+t._s(t.userinfo.githubUsername))])]),n("div",[n("span",{staticClass:"iconfont icon-rili"}),t._v(t._s(t._f("formatDate")(t.userinfo.create_at)))])]),n("div",{staticClass:"replies"},[n("ul",[n("li",{staticClass:"toolbar"},[t._v("最近回复的话题：")]),t._l(t.userinfo.recent_replies,function(a,e){return n("li",{key:e},[n("router-link",{attrs:{to:{name:"userInfo",params:{name:a.author.loginname}}}},[n("img",{staticClass:"avatar",attrs:{src:a.author.avatar_url}})]),n("router-link",{attrs:{to:{name:"postContent",params:{id:a.id,name:a.author.loginname}}}},[n("span",[t._v(t._s(a.title))])]),n("span",{staticClass:"last-reply"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1)})],2)]),n("div",{staticClass:"topics"},[n("ul",[n("li",{staticClass:"toolbar"},[t._v("最近创建的话题：")]),t._l(t.userinfo.recent_topics,function(a,e){return n("li",{key:e},[n("img",{staticClass:"avatar",attrs:{src:a.author.avatar_url}}),n("router-link",{attrs:{to:{name:"postContent",params:{id:a.id}}}},[n("span",[t._v(t._s(a.title))])]),n("span",{staticClass:"last-reply"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1)})],2)])])},V=[],W={name:"UserInfo",components:{Loading:x},data:function(){return{isLoading:!1,userinfo:{}}},methods:{getUserInfoData:function(){var t=this;this.isLoading=!0,this.$axios.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)).then(function(a){t.isLoading=!1,t.userinfo=a.data.data,console.log(a)}).catch(function(t){console.log(t)})}},watch:{$route:function(){this.getUserInfoData()}},mounted:function(){this.getUserInfoData()}},X=W,Y=(n("a8bf"),Object(l["a"])(X,R,V,!1,null,"f6ad9ea0",null)),Z=Y.exports;e["a"].use(_["a"]);var tt=new _["a"]({routes:[{name:"root",path:"/",component:Q},{name:"postContent",path:"/topic/:id",component:B},{name:"userInfo",path:"/user/:name",component:Z}]}),at=n("2f62");e["a"].use(at["a"]);var nt=new at["a"].Store({state:{},mutations:{},actions:{}}),et=n("bc3a"),st=n.n(et);e["a"].config.productionTip=!1,e["a"].prototype.$axios=st.a,e["a"].filter("formatDate",function(t){if(!t)return"";var a=new Date(t),n=(new Date).getTime()-a.getTime();return n<0?"":n/1e3<30?"刚刚":n/1e3<60?parseInt(n/1e3)+"秒前":n/6e4<60?parseInt(n/6e4)+"分钟前":n/36e5<24?parseInt(n/36e5)+"小时前":n/864e5<31?parseInt(n/864e5)+"天前":n/2592e6<12?parseInt(n/2592e6)+"月前":parseInt(n/31536e6)+"年前"}),e["a"].filter("tabFormatter",function(t){return 1==t.good?"精华":1==t.top?"置顶":"ask"==t.tab?"问答":"share"==t.tab?"分享":"招聘"}),new e["a"]({router:tt,store:nt,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,a,n){"use strict";var e=n("5e27"),s=n.n(e);s.a},"5e27":function(t,a,n){},"720e":function(t,a,n){"use strict";var e=n("88bf"),s=n.n(e);s.a},"88bf":function(t,a,n){},9418:function(t,a,n){"use strict";var e=n("d577"),s=n.n(e);s.a},a139:function(t,a,n){},a349:function(t,a,n){"use strict";var e=n("de22"),s=n.n(e);s.a},a8bf:function(t,a,n){"use strict";var e=n("06a2"),s=n.n(e);s.a},cb13:function(t,a,n){"use strict";var e=n("1054"),s=n.n(e);s.a},d577:function(t,a,n){},d686:function(t,a,n){t.exports=n.p+"img/cnodejs_light.86f6a7c2.svg"},ddd2:function(t,a,n){"use strict";var e=n("ecfd"),s=n.n(e);s.a},de22:function(t,a,n){},ecfd:function(t,a,n){},f965:function(t,a,n){"use strict";var e=n("a139"),s=n.n(e);s.a}});
//# sourceMappingURL=app.05a0434b.js.map